\hypertarget{can_8h}{}\doxysection{can.\+h File Reference}
\label{can_8h}\index{can.h@{can.h}}
{\ttfamily \#include \char`\"{}freertos/\+Free\+R\+T\+O\+S.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+intr.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+err.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gpio.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcan__general__config__t}{can\+\_\+general\+\_\+config\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Structure for general configuration of the C\+AN driver. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcan__timing__config__t}{can\+\_\+timing\+\_\+config\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Structure for bit timing configuration of the C\+AN driver. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcan__filter__config__t}{can\+\_\+filter\+\_\+config\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Structure for acceptance filter configuration of the C\+AN driver (see documentation) \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcan__status__info__t}{can\+\_\+status\+\_\+info\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Structure to store status information of C\+AN driver. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcan__message__t}{can\+\_\+message\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Structure to store a C\+AN message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{can_8h_ad6f5bfd4c152b830a94c2066e9c81710}{can\+\_\+mode\+\_\+t}} \{ \newline
\mbox{\hyperlink{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a348bb9f30d4a51d086e37ad73f9c5cf0}{C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+R\+M\+AL}}, 
\mbox{\hyperlink{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a8df943d7810c59c5ed02b93393b4c8eb}{C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+\_\+\+A\+CK}}, 
\mbox{\hyperlink{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a4130fa46dba5f9dc6b0f693135caf9f7}{C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+L\+I\+S\+T\+E\+N\+\_\+\+O\+N\+LY}}, 
\mbox{\hyperlink{_references_2_c_a_n___files_2can_8h_ad6f5bfd4c152b830a94c2066e9c81710a348bb9f30d4a51d086e37ad73f9c5cf0}{C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+R\+M\+AL}}, 
\newline
\mbox{\hyperlink{_references_2_c_a_n___files_2can_8h_ad6f5bfd4c152b830a94c2066e9c81710a8df943d7810c59c5ed02b93393b4c8eb}{C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+\_\+\+A\+CK}}, 
\mbox{\hyperlink{_references_2_c_a_n___files_2can_8h_ad6f5bfd4c152b830a94c2066e9c81710a4130fa46dba5f9dc6b0f693135caf9f7}{C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+L\+I\+S\+T\+E\+N\+\_\+\+O\+N\+LY}}
 \}
\begin{DoxyCompactList}\small\item\em C\+AN driver operating modes. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1}{can\+\_\+state\+\_\+t}} \{ \newline
\mbox{\hyperlink{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a644e7a441f2e607b93528d3128508cc8}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+T\+O\+P\+P\+ED}}, 
\mbox{\hyperlink{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a1c668664d6a9f36f50eca79132385230}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+U\+N\+N\+I\+NG}}, 
\mbox{\hyperlink{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a679935a8710667fcb99423d217cd9959}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+B\+U\+S\+\_\+\+O\+FF}}, 
\mbox{\hyperlink{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a3a4c0dfe72438d2b77242ea54d214bcd}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+C\+O\+V\+E\+R\+I\+NG}}, 
\newline
\mbox{\hyperlink{_references_2_c_a_n___files_2can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a644e7a441f2e607b93528d3128508cc8}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+T\+O\+P\+P\+ED}}, 
\mbox{\hyperlink{_references_2_c_a_n___files_2can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a1c668664d6a9f36f50eca79132385230}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+U\+N\+N\+I\+NG}}, 
\mbox{\hyperlink{_references_2_c_a_n___files_2can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a679935a8710667fcb99423d217cd9959}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+B\+U\+S\+\_\+\+O\+FF}}, 
\mbox{\hyperlink{_references_2_c_a_n___files_2can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a3a4c0dfe72438d2b77242ea54d214bcd}{C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+C\+O\+V\+E\+R\+I\+NG}}
 \}
\begin{DoxyCompactList}\small\item\em C\+AN driver states. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a5d6d3950c3fa7124d6a86a19ac2bf0f8}{can\+\_\+driver\+\_\+install}} (const \mbox{\hyperlink{structcan__general__config__t}{can\+\_\+general\+\_\+config\+\_\+t}} $\ast$g\+\_\+config, const \mbox{\hyperlink{structcan__timing__config__t}{can\+\_\+timing\+\_\+config\+\_\+t}} $\ast$t\+\_\+config, const \mbox{\hyperlink{structcan__filter__config__t}{can\+\_\+filter\+\_\+config\+\_\+t}} $\ast$f\+\_\+config)
\begin{DoxyCompactList}\small\item\em Install C\+AN driver. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a02d3175ac035bc5660952df141878c66}{can\+\_\+driver\+\_\+uninstall}} ()
\begin{DoxyCompactList}\small\item\em Uninstall the C\+AN driver. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_ab448804372f1c31e061ab231f3533077}{can\+\_\+start}} ()
\begin{DoxyCompactList}\small\item\em Start the C\+AN driver. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a40a4259fc7300b9e3da677c0d30abded}{can\+\_\+stop}} ()
\begin{DoxyCompactList}\small\item\em Stop the C\+AN driver. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a87560a2fb0417f9502fff53fc19f5fda}{can\+\_\+transmit}} (const \mbox{\hyperlink{structcan__message__t}{can\+\_\+message\+\_\+t}} $\ast$message, Tick\+Type\+\_\+t ticks\+\_\+to\+\_\+wait)
\begin{DoxyCompactList}\small\item\em Transmit a C\+AN message. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a2a8b5fefa4fc57740cfbf28afc401a66}{can\+\_\+receive}} (\mbox{\hyperlink{structcan__message__t}{can\+\_\+message\+\_\+t}} $\ast$message, Tick\+Type\+\_\+t ticks\+\_\+to\+\_\+wait)
\begin{DoxyCompactList}\small\item\em Receive a C\+AN message. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a96bc99fa578fb1b175efb4b04c242fee}{can\+\_\+read\+\_\+alerts}} (uint32\+\_\+t $\ast$alerts, Tick\+Type\+\_\+t ticks\+\_\+to\+\_\+wait)
\begin{DoxyCompactList}\small\item\em Read C\+AN driver alerts. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a09ead5c8ff15ffb0c4a35d376cfdd07a}{can\+\_\+reconfigure\+\_\+alerts}} (uint32\+\_\+t alerts\+\_\+enabled, uint32\+\_\+t $\ast$current\+\_\+alerts)
\begin{DoxyCompactList}\small\item\em Reconfigure which alerts are enabled. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a1e5f385f761519a7e0f08cbe916f1ded}{can\+\_\+initiate\+\_\+recovery}} ()
\begin{DoxyCompactList}\small\item\em Start the bus recovery process. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a3aac248f4f28f0e426e33895b4990b96}{can\+\_\+get\+\_\+status\+\_\+info}} (\mbox{\hyperlink{structcan__status__info__t}{can\+\_\+status\+\_\+info\+\_\+t}} $\ast$status\+\_\+info)
\begin{DoxyCompactList}\small\item\em Get current status information of the C\+AN driver. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a11d9a3b466d57275142cb9a4dd8dc690}{can\+\_\+clear\+\_\+transmit\+\_\+queue}} ()
\begin{DoxyCompactList}\small\item\em Clear the transmit queue. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{can_8h_a28dd6e5c240cf7e67285b66cbf668a04}{can\+\_\+clear\+\_\+receive\+\_\+queue}} ()
\begin{DoxyCompactList}\small\item\em Clear the receive queue. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{can_8h_ad6f5bfd4c152b830a94c2066e9c81710}\label{can_8h_ad6f5bfd4c152b830a94c2066e9c81710}} 
\index{can.h@{can.h}!can\_mode\_t@{can\_mode\_t}}
\index{can\_mode\_t@{can\_mode\_t}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_mode\_t}{can\_mode\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{can_8h_ad6f5bfd4c152b830a94c2066e9c81710}{can\+\_\+mode\+\_\+t}}}



C\+AN driver operating modes. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_MODE\_NORMAL@{CAN\_MODE\_NORMAL}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_MODE\_NORMAL@{CAN\_MODE\_NORMAL}}}\mbox{\Hypertarget{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a348bb9f30d4a51d086e37ad73f9c5cf0}\label{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a348bb9f30d4a51d086e37ad73f9c5cf0}} 
C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+R\+M\+AL&Normal operating mode where C\+AN controller can send/receive/acknowledge messages \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_MODE\_NO\_ACK@{CAN\_MODE\_NO\_ACK}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_MODE\_NO\_ACK@{CAN\_MODE\_NO\_ACK}}}\mbox{\Hypertarget{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a8df943d7810c59c5ed02b93393b4c8eb}\label{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a8df943d7810c59c5ed02b93393b4c8eb}} 
C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+\_\+\+A\+CK&Transmission does not require acknowledgment. Use this mode for self testing \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_MODE\_LISTEN\_ONLY@{CAN\_MODE\_LISTEN\_ONLY}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_MODE\_LISTEN\_ONLY@{CAN\_MODE\_LISTEN\_ONLY}}}\mbox{\Hypertarget{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a4130fa46dba5f9dc6b0f693135caf9f7}\label{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a4130fa46dba5f9dc6b0f693135caf9f7}} 
C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+L\+I\+S\+T\+E\+N\+\_\+\+O\+N\+LY&The C\+AN controller will not influence the bus (No transmissions or acknowledgments) but can receive messages \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_MODE\_NORMAL@{CAN\_MODE\_NORMAL}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_MODE\_NORMAL@{CAN\_MODE\_NORMAL}}}\mbox{\Hypertarget{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a348bb9f30d4a51d086e37ad73f9c5cf0}\label{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a348bb9f30d4a51d086e37ad73f9c5cf0}} 
C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+R\+M\+AL&Normal operating mode where C\+AN controller can send/receive/acknowledge messages \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_MODE\_NO\_ACK@{CAN\_MODE\_NO\_ACK}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_MODE\_NO\_ACK@{CAN\_MODE\_NO\_ACK}}}\mbox{\Hypertarget{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a8df943d7810c59c5ed02b93393b4c8eb}\label{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a8df943d7810c59c5ed02b93393b4c8eb}} 
C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+\_\+\+A\+CK&Transmission does not require acknowledgment. Use this mode for self testing \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_MODE\_LISTEN\_ONLY@{CAN\_MODE\_LISTEN\_ONLY}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_MODE\_LISTEN\_ONLY@{CAN\_MODE\_LISTEN\_ONLY}}}\mbox{\Hypertarget{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a4130fa46dba5f9dc6b0f693135caf9f7}\label{can_8h_ad6f5bfd4c152b830a94c2066e9c81710a4130fa46dba5f9dc6b0f693135caf9f7}} 
C\+A\+N\+\_\+\+M\+O\+D\+E\+\_\+\+L\+I\+S\+T\+E\+N\+\_\+\+O\+N\+LY&The C\+AN controller will not influence the bus (No transmissions or acknowledgments) but can receive messages \\
\hline

\end{DoxyEnumFields}


Definition at line 118 of file can.\+h.

\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1}} 
\index{can.h@{can.h}!can\_state\_t@{can\_state\_t}}
\index{can\_state\_t@{can\_state\_t}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_state\_t}{can\_state\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1}{can\+\_\+state\+\_\+t}}}



C\+AN driver states. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_STOPPED@{CAN\_STATE\_STOPPED}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_STOPPED@{CAN\_STATE\_STOPPED}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a644e7a441f2e607b93528d3128508cc8}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a644e7a441f2e607b93528d3128508cc8}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+T\+O\+P\+P\+ED&Stopped state. The C\+AN controller will not participate in any C\+AN bus activities \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_RUNNING@{CAN\_STATE\_RUNNING}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_RUNNING@{CAN\_STATE\_RUNNING}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a1c668664d6a9f36f50eca79132385230}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a1c668664d6a9f36f50eca79132385230}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+U\+N\+N\+I\+NG&Running state. The C\+AN controller can transmit and receive messages \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_BUS\_OFF@{CAN\_STATE\_BUS\_OFF}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_BUS\_OFF@{CAN\_STATE\_BUS\_OFF}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a679935a8710667fcb99423d217cd9959}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a679935a8710667fcb99423d217cd9959}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+B\+U\+S\+\_\+\+O\+FF&Bus-\/off state. The C\+AN controller cannot participate in bus activities until it has recovered \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_RECOVERING@{CAN\_STATE\_RECOVERING}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_RECOVERING@{CAN\_STATE\_RECOVERING}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a3a4c0dfe72438d2b77242ea54d214bcd}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a3a4c0dfe72438d2b77242ea54d214bcd}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+C\+O\+V\+E\+R\+I\+NG&Recovering state. The C\+AN controller is undergoing bus recovery \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_STOPPED@{CAN\_STATE\_STOPPED}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_STOPPED@{CAN\_STATE\_STOPPED}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a644e7a441f2e607b93528d3128508cc8}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a644e7a441f2e607b93528d3128508cc8}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+T\+O\+P\+P\+ED&Stopped state. The C\+AN controller will not participate in any C\+AN bus activities \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_RUNNING@{CAN\_STATE\_RUNNING}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_RUNNING@{CAN\_STATE\_RUNNING}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a1c668664d6a9f36f50eca79132385230}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a1c668664d6a9f36f50eca79132385230}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+U\+N\+N\+I\+NG&Running state. The C\+AN controller can transmit and receive messages \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_BUS\_OFF@{CAN\_STATE\_BUS\_OFF}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_BUS\_OFF@{CAN\_STATE\_BUS\_OFF}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a679935a8710667fcb99423d217cd9959}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a679935a8710667fcb99423d217cd9959}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+B\+U\+S\+\_\+\+O\+FF&Bus-\/off state. The C\+AN controller cannot participate in bus activities until it has recovered \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CAN\_STATE\_RECOVERING@{CAN\_STATE\_RECOVERING}!can.h@{can.h}}\index{can.h@{can.h}!CAN\_STATE\_RECOVERING@{CAN\_STATE\_RECOVERING}}}\mbox{\Hypertarget{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a3a4c0dfe72438d2b77242ea54d214bcd}\label{can_8h_a69173288ca0cb5f7e7c0ad8be7911fa1a3a4c0dfe72438d2b77242ea54d214bcd}} 
C\+A\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+C\+O\+V\+E\+R\+I\+NG&Recovering state. The C\+AN controller is undergoing bus recovery \\
\hline

\end{DoxyEnumFields}


Definition at line 127 of file can.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{can_8h_a28dd6e5c240cf7e67285b66cbf668a04}\label{can_8h_a28dd6e5c240cf7e67285b66cbf668a04}} 
\index{can.h@{can.h}!can\_clear\_receive\_queue@{can\_clear\_receive\_queue}}
\index{can\_clear\_receive\_queue@{can\_clear\_receive\_queue}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_clear\_receive\_queue()}{can\_clear\_receive\_queue()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+clear\+\_\+receive\+\_\+queue (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clear the receive queue. 

This function will clear the receive queue of all messages.

\begin{DoxyNote}{Note}
The receive queue is automatically cleared when \mbox{\hyperlink{can_8h_ab448804372f1c31e061ab231f3533077}{can\+\_\+start()}} is called.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Transmit queue cleared
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 996 of file can.\+c.

\mbox{\Hypertarget{can_8h_a11d9a3b466d57275142cb9a4dd8dc690}\label{can_8h_a11d9a3b466d57275142cb9a4dd8dc690}} 
\index{can.h@{can.h}!can\_clear\_transmit\_queue@{can\_clear\_transmit\_queue}}
\index{can\_clear\_transmit\_queue@{can\_clear\_transmit\_queue}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_clear\_transmit\_queue()}{can\_clear\_transmit\_queue()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+clear\+\_\+transmit\+\_\+queue (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clear the transmit queue. 

This function will clear the transmit queue of all messages.

\begin{DoxyNote}{Note}
The transmit queue is automatically cleared when \mbox{\hyperlink{can_8h_a40a4259fc7300b9e3da677c0d30abded}{can\+\_\+stop()}} or \mbox{\hyperlink{can_8h_a1e5f385f761519a7e0f08cbe916f1ded}{can\+\_\+initiate\+\_\+recovery()}} is called.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Transmit queue cleared
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not installed or TX queue is disabled 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 981 of file can.\+c.

\mbox{\Hypertarget{can_8h_a5d6d3950c3fa7124d6a86a19ac2bf0f8}\label{can_8h_a5d6d3950c3fa7124d6a86a19ac2bf0f8}} 
\index{can.h@{can.h}!can\_driver\_install@{can\_driver\_install}}
\index{can\_driver\_install@{can\_driver\_install}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_driver\_install()}{can\_driver\_install()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+driver\+\_\+install (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcan__general__config__t}{can\+\_\+general\+\_\+config\+\_\+t}} $\ast$}]{g\+\_\+config,  }\item[{const \mbox{\hyperlink{structcan__timing__config__t}{can\+\_\+timing\+\_\+config\+\_\+t}} $\ast$}]{t\+\_\+config,  }\item[{const \mbox{\hyperlink{structcan__filter__config__t}{can\+\_\+filter\+\_\+config\+\_\+t}} $\ast$}]{f\+\_\+config }\end{DoxyParamCaption})}



Install C\+AN driver. 

This function installs the C\+AN driver using three configuration structures. The required memory is allocated and the C\+AN driver is placed in the stopped state after running this function.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em g\+\_\+config} & General configuration structure \\
\hline
\mbox{\texttt{ in}}  & {\em t\+\_\+config} & Timing configuration structure \\
\hline
\mbox{\texttt{ in}}  & {\em f\+\_\+config} & Filter configuration structure\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Macro initializers are available for the configuration structures (see documentation)

To reinstall the C\+AN driver, call \mbox{\hyperlink{can_8h_a02d3175ac035bc5660952df141878c66}{can\+\_\+driver\+\_\+uninstall()}} first
\end{DoxyNote}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Successfully installed C\+AN driver
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG\+: Arguments are invalid
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+N\+O\+\_\+\+M\+EM\+: Insufficient memory
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: Driver is already installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 619 of file can.\+c.

\mbox{\Hypertarget{can_8h_a02d3175ac035bc5660952df141878c66}\label{can_8h_a02d3175ac035bc5660952df141878c66}} 
\index{can.h@{can.h}!can\_driver\_uninstall@{can\_driver\_uninstall}}
\index{can\_driver\_uninstall@{can\_driver\_uninstall}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_driver\_uninstall()}{can\_driver\_uninstall()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+driver\+\_\+uninstall (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Uninstall the C\+AN driver. 

This function uninstalls the C\+AN driver, freeing the memory utilized by the driver. This function can only be called when the driver is in the stopped state or the bus-\/off state.

\begin{DoxyWarning}{Warning}
The application must ensure that no tasks are blocked on T\+X/\+RX queues or alerts when this function is called.
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Successfully uninstalled C\+AN driver
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: Driver is not in stopped/bus-\/off state, or is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 724 of file can.\+c.

\mbox{\Hypertarget{can_8h_a3aac248f4f28f0e426e33895b4990b96}\label{can_8h_a3aac248f4f28f0e426e33895b4990b96}} 
\index{can.h@{can.h}!can\_get\_status\_info@{can\_get\_status\_info}}
\index{can\_get\_status\_info@{can\_get\_status\_info}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_get\_status\_info()}{can\_get\_status\_info()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+get\+\_\+status\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcan__status__info__t}{can\+\_\+status\+\_\+info\+\_\+t}} $\ast$}]{status\+\_\+info }\end{DoxyParamCaption})}



Get current status information of the C\+AN driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em status\+\_\+info} & Status information\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Status information retrieved
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG\+: Arguments are invalid
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 950 of file can.\+c.

\mbox{\Hypertarget{can_8h_a1e5f385f761519a7e0f08cbe916f1ded}\label{can_8h_a1e5f385f761519a7e0f08cbe916f1ded}} 
\index{can.h@{can.h}!can\_initiate\_recovery@{can\_initiate\_recovery}}
\index{can\_initiate\_recovery@{can\_initiate\_recovery}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_initiate\_recovery()}{can\_initiate\_recovery()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+initiate\+\_\+recovery (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Start the bus recovery process. 

This function initiates the bus recovery process when the C\+AN driver is in the bus-\/off state. Once initiated, the C\+AN driver will enter the recovering state and wait for 128 occurrences of the bus-\/free signal on the C\+AN bus before returning to the stopped state. This function will reset the TX queue, clearing any messages pending transmission.

\begin{DoxyNote}{Note}
The B\+U\+S\+\_\+\+R\+E\+C\+O\+V\+E\+R\+ED alert can be enabled to alert the application when the bus recovery process completes.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Bus recovery started
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not in the bus-\/off state, or is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 927 of file can.\+c.

\mbox{\Hypertarget{can_8h_a96bc99fa578fb1b175efb4b04c242fee}\label{can_8h_a96bc99fa578fb1b175efb4b04c242fee}} 
\index{can.h@{can.h}!can\_read\_alerts@{can\_read\_alerts}}
\index{can\_read\_alerts@{can\_read\_alerts}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_read\_alerts()}{can\_read\_alerts()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+read\+\_\+alerts (\begin{DoxyParamCaption}\item[{uint32\+\_\+t $\ast$}]{alerts,  }\item[{Tick\+Type\+\_\+t}]{ticks\+\_\+to\+\_\+wait }\end{DoxyParamCaption})}



Read C\+AN driver alerts. 

This function will read the alerts raised by the C\+AN driver. If no alert has been when this function is called, this function will block until an alert occurs or until it timeouts.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em alerts} & Bit field of raised alerts (see documentation for alert flags) \\
\hline
\mbox{\texttt{ in}}  & {\em ticks\+\_\+to\+\_\+wait} & Number of Free\+R\+T\+OS ticks to block for alert\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Multiple alerts can be raised simultaneously. The application should check for all alerts that have been enabled.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Alerts read
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+T\+I\+M\+E\+O\+UT\+: Timed out waiting for alerts
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG\+: Arguments are invalid
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 893 of file can.\+c.

\mbox{\Hypertarget{can_8h_a2a8b5fefa4fc57740cfbf28afc401a66}\label{can_8h_a2a8b5fefa4fc57740cfbf28afc401a66}} 
\index{can.h@{can.h}!can\_receive@{can\_receive}}
\index{can\_receive@{can\_receive}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_receive()}{can\_receive()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+receive (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcan__message__t}{can\+\_\+message\+\_\+t}} $\ast$}]{message,  }\item[{Tick\+Type\+\_\+t}]{ticks\+\_\+to\+\_\+wait }\end{DoxyParamCaption})}



Receive a C\+AN message. 

This function receives a message from the RX queue. The flags field of the message structure will indicate the type of message received. This function will block if there are no messages in the RX queue


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em message} & Received message \\
\hline
\mbox{\texttt{ in}}  & {\em ticks\+\_\+to\+\_\+wait} & Number of Free\+R\+T\+OS ticks to block on RX queue\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
The flags field of the received message should be checked to determine if the received message contains any data bytes.
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Message successfully received from RX queue
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+T\+I\+M\+E\+O\+UT\+: Timed out waiting for message
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG\+: Arguments are invalid
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 872 of file can.\+c.

\mbox{\Hypertarget{can_8h_a09ead5c8ff15ffb0c4a35d376cfdd07a}\label{can_8h_a09ead5c8ff15ffb0c4a35d376cfdd07a}} 
\index{can.h@{can.h}!can\_reconfigure\_alerts@{can\_reconfigure\_alerts}}
\index{can\_reconfigure\_alerts@{can\_reconfigure\_alerts}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_reconfigure\_alerts()}{can\_reconfigure\_alerts()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+reconfigure\+\_\+alerts (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{alerts\+\_\+enabled,  }\item[{uint32\+\_\+t $\ast$}]{current\+\_\+alerts }\end{DoxyParamCaption})}



Reconfigure which alerts are enabled. 

This function reconfigures which alerts are enabled. If there are alerts which have not been read whilst reconfiguring, this function can read those alerts.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alerts\+\_\+enabled} & Bit field of alerts to enable (see documentation for alert flags) \\
\hline
\mbox{\texttt{ out}}  & {\em current\+\_\+alerts} & Bit field of currently raised alerts. Set to N\+U\+LL if unused\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Alerts reconfigured
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 912 of file can.\+c.

\mbox{\Hypertarget{can_8h_ab448804372f1c31e061ab231f3533077}\label{can_8h_ab448804372f1c31e061ab231f3533077}} 
\index{can.h@{can.h}!can\_start@{can\_start}}
\index{can\_start@{can\_start}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_start()}{can\_start()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Start the C\+AN driver. 

This function starts the C\+AN driver, putting the C\+AN driver into the running state. This allows the C\+AN driver to participate in C\+AN bus activities such as transmitting/receiving messages. The RX queue is reset in this function, clearing any unread messages. This function can only be called when the C\+AN driver is in the stopped state.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: C\+AN driver is now running
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: Driver is not in stopped state, or is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 760 of file can.\+c.

\mbox{\Hypertarget{can_8h_a40a4259fc7300b9e3da677c0d30abded}\label{can_8h_a40a4259fc7300b9e3da677c0d30abded}} 
\index{can.h@{can.h}!can\_stop@{can\_stop}}
\index{can\_stop@{can\_stop}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_stop()}{can\_stop()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stop the C\+AN driver. 

This function stops the C\+AN driver, preventing any further message from being transmitted or received until \mbox{\hyperlink{can_8h_ab448804372f1c31e061ab231f3533077}{can\+\_\+start()}} is called. Any messages in the TX queue are cleared. Any messages in the RX queue should be read by the application after this function is called. This function can only be called when the C\+AN driver is in the running state.

\begin{DoxyWarning}{Warning}
A message currently being transmitted/received on the C\+AN bus will be ceased immediately. This may lead to other C\+AN nodes interpreting the unfinished message as an error.
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: C\+AN driver is now Stopped
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: Driver is not in running state, or is not installed 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 790 of file can.\+c.

\mbox{\Hypertarget{can_8h_a87560a2fb0417f9502fff53fc19f5fda}\label{can_8h_a87560a2fb0417f9502fff53fc19f5fda}} 
\index{can.h@{can.h}!can\_transmit@{can\_transmit}}
\index{can\_transmit@{can\_transmit}!can.h@{can.h}}
\doxysubsubsection{\texorpdfstring{can\_transmit()}{can\_transmit()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t can\+\_\+transmit (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcan__message__t}{can\+\_\+message\+\_\+t}} $\ast$}]{message,  }\item[{Tick\+Type\+\_\+t}]{ticks\+\_\+to\+\_\+wait }\end{DoxyParamCaption})}



Transmit a C\+AN message. 

This function queues a C\+AN message for transmission. Transmission will start immediately if no other messages are queued for transmission. If the TX queue is full, this function will block until more space becomes available or until it timesout. If the TX queue is disabled (TX queue length = 0 in configuration), this function will return immediately if another message is undergoing transmission. This function can only be called when the C\+AN driver is in the running state and cannot be called under Listen Only Mode.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em message} & Message to transmit \\
\hline
\mbox{\texttt{ in}}  & {\em ticks\+\_\+to\+\_\+wait} & Number of Free\+R\+T\+OS ticks to block on the TX queue\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This function does not guarantee that the transmission is successful. The T\+X\+\_\+\+S\+U\+C\+C\+E\+S\+S/\+T\+X\+\_\+\+F\+A\+I\+L\+ED alert can be enabled to alert the application upon the success/failure of a transmission.

The T\+X\+\_\+\+I\+D\+LE alert can be used to alert the application when no other messages are awaiting transmission.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK\+: Transmission successfully queued/initiated
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG\+: Arguments are invalid
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+T\+I\+M\+E\+O\+UT\+: Timed out waiting for space on TX queue
\item E\+S\+P\+\_\+\+F\+A\+IL\+: TX queue is disabled and another message is currently transmitting
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+T\+A\+TE\+: C\+AN driver is not in running state, or is not installed
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED\+: Listen Only Mode does not support transmissions 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 815 of file can.\+c.

